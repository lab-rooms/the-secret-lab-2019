@import "../../base-styles/settings/all";

.who--background {
  background: adjust-color($color-oxford, $red: 28, $green: 15, $blue: 21)
    linear-gradient(
      382deg,
      $color-oxford 30%,
      adjust-color($color-oxford, $red: 36, $green: 14, $blue: 25) 60%,
      transparent 60%,
      rgba(0, 0, 0, 0.2) 60%,
      transparent 60.5%
    );
}

.who--background .main--gradient {
  background: linear-gradient(
    348deg,
    $color-oxford 30%,
    adjust-color($color-oxford, $red: 40, $green: 27, $blue: 34) 50%,
    transparent 50%,
    rgba(0, 0, 0, 0.2) 50%,
    transparent 50.5%
  );
}

.who .floating-asset {
  box-shadow: $gutter * 2 (-$gutter * 2) 0px 0px lighten($color-oxford, 15%),
    -$gutter * 2 (-$gutter * 4) 0px 0px lighten($color-oxford, 5%);
}

.who .main__header h1 {
  transform: rotate(-8deg);
  margin-top: -40px;
  position: absolute;
}

.who .orbit {
  position: relative;
  transform: scale(0.8);
}

.who .orbit img {
  margin: 0;
}

.who .orbit--second {
  position: absolute;
  transform: rotate(-25deg) scale(0.8);
}

.who .orbit--second .ball {
  animation: orbit-ball 10s ease-in-out infinite, orbit-ball-2 10s linear infinite;

  &:nth-child(2) {
    animation-delay: -5s;
  }
}

.who .ball {
  display: inline-block;
  width: 30px;
  height: 30px;
  margin: 0;
  border-radius: 50%;
  position: absolute;
  top: 0;
  left: 0;
  background: radial-gradient(circle at 50% 120%, #323232, #0a0a0a 80%, #000000 100%);
  animation: orbit-ball 8s ease-in-out infinite, orbit-ball-2 8s linear infinite;

  &:before {
    content: "";
    position: absolute;
    background: radial-gradient(circle at 50% 120%, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0) 70%);
    border-radius: 50%;
    bottom: 2.5%;
    left: 5%;
    opacity: 0.6;
    height: 100%;
    width: 90%;
    filter: blur(5px);
    z-index: 2;
  }

  &:after {
    width: 100%;
    height: 100%;
    content: "";
    position: absolute;
    top: -20%;
    left: -20%;
    border-radius: 50%;
    background: radial-gradient(
      circle at 50% 50%,
      rgba(255, 255, 255, 0.8),
      rgba(255, 255, 255, 0.8) 14%,
      rgba(255, 255, 255, 0) 24%
    );
    transform: skewX(-20deg);
    filter: blur(10px);
  }

  &:nth-child(2) {
    animation-delay: -4s;
  }
}

@keyframes orbit-ball {
  0%,
  100% {
    left: 0%;
    top: 50%;
    transform: translate(-50%, -50%) scale(0.6);
  }

  25% {
    top: 100%;
    transform: translate(-50%, -50%) scale(0.8);
  }

  50% {
    left: 100%;
    top: 50%;
    transform: translate(-50%, -50%) scale(0.6);
  }

  75% {
    top: 0%;
    transform: translateY(-50%) scale(0.4);
  }
}

@keyframes orbit-ball-2 {
  0%,
  100% {
    margin-top: 0px;
  }

  10%,
  40% {
    margin-top: 6px;
  }

  15%,
  35% {
    margin-top: 3px;
  }

  25%,
  50%,
  75% {
    margin-top: 0;
  }

  60%,
  90% {
    margin-top: -6px;
  }

  65%,
  85% {
    margin-top: -3px;
  }
}

@media screen and (min-width: $view-tablet-landscape) {
  .who .orbit {
    transform: scale(1);
  }

  .who .orbit--second {
    transform: rotate(-25deg) scale(1);
  }

  @keyframes orbit-ball {
    0%,
    100% {
      left: 0%;
      top: 50%;
      transform: translate(-50%, -50%) scale(1);
    }

    25% {
      top: 100%;
      transform: translate(-50%, -50%) scale(1.5);
    }

    50% {
      left: 100%;
      top: 50%;
      transform: translate(-50%, -50%) scale(1);
    }

    75% {
      top: 0%;
      transform: translateY(-50%) scale(0.7);
    }
  }

  @keyframes orbit-ball-2 {
    0%,
    100% {
      margin-top: 0px;
    }

    10%,
    40% {
      margin-top: 13px;
    }

    15%,
    35% {
      margin-top: 5px;
    }

    25%,
    50%,
    75% {
      margin-top: 0;
    }

    60%,
    90% {
      margin-top: -13px;
    }

    65%,
    85% {
      margin-top: -5px;
    }
  }
}
